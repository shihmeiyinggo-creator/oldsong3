<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŒœçŒœæˆ‘æ˜¯èª°ï¼Ÿ</title>
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Confetti ç‰¹æ•ˆåº« -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        /* å¼•å…¥ Google Fonts å­—å‹ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@300;400;500&display=swap');

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #0f172a; /* Slate 900 */
        }

        .serif-font {
            font-family: 'Noto Serif TC', serif;
        }

        /* è‡ªå®šç¾©å‹•ç•«é¡åˆ¥ */
        .fade-enter {
            opacity: 0;
            transform: scale(0.95);
        }
        .fade-enter-active {
            opacity: 1;
            transform: scale(1);
            transition: opacity 500ms ease-out, transform 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .fade-exit {
            opacity: 1;
            transform: scale(1);
        }
        .fade-exit-active {
            opacity: 0;
            transform: scale(1.05);
            transition: opacity 300ms ease-in, transform 300ms ease-in;
        }

        /* å½ˆè·³å‹•ç•« */
        @keyframes bounce-in {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }
        .animate-bounce-in {
            animation: bounce-in 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center text-white p-4 overflow-hidden">

    <!-- æ¨™é¡Œå€åŸŸ -->
    <header class="text-center mb-6 z-10">
        <h1 id="game-title" class="text-3xl md:text-5xl font-bold serif-font mb-2 tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-amber-200 to-yellow-500 transition-all duration-500">
            çŒœçŒœæˆ‘æ˜¯èª°ï¼Ÿ
        </h1>
        <p id="game-subtitle" class="text-slate-400 text-sm md:text-base tracking-wider transition-all duration-500">
            çœ‹è‘—é€™å¼µå¹´è¼•çš„ç…§ç‰‡ï¼Œä½ èƒ½èªå‡ºä»–æ˜¯èª°å—ï¼Ÿ
        </p>
    </header>

    <!-- ä¸»éŠæˆ²å€ -->
    <main class="w-full max-w-md bg-slate-800 rounded-2xl shadow-2xl border border-slate-700 overflow-hidden relative group transition-all duration-500 hover:shadow-amber-900/20">
        
        <!-- åœ–ç‰‡å®¹å™¨ -->
        <div class="relative w-full aspect-[3/4] overflow-hidden bg-black" id="image-container">
            
            <!-- åœ–ç‰‡ 1ï¼šå¹´è¼• (åˆå§‹é¡¯ç¤º) -->
            <!-- ä½¿ç”¨ onerror ä¾†è™•ç†åœ–ç‰‡é€£çµå¤±æ•ˆçš„æƒ…æ³ï¼Œé¡¯ç¤ºé è¨­ä½”ä½åœ– -->
            <img 
                id="img-young"
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTs6N7YGM1QbgJTj_PVEu3j9KVHZbUulcM_Og&s" 
                onerror="this.src='https://placehold.co/400x600/333/FFF?text=Young+Photo'"
                alt="å¹´è¼•ç…§ç‰‡" 
                class="absolute inset-0 w-full h-full object-cover object-center transition-all duration-700"
            >

            <!-- åœ–ç‰‡ 2ï¼šç¾åœ¨ (åˆå§‹éš±è—) -->
            <img 
                id="img-current"
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSH2JgNv0_AKsk8EXIu9rcjZ049Hc8DE241tThsr0sgbqZxkYHq28oHRV06_oaEXwbQmb4ySns6n_IaqDx3ZX-sUobOVTCsEKPH0fmv9UZTNw&s=10" 
                onerror="this.src='https://placehold.co/400x600/333/FFF?text=Current+Photo'"
                alt="ç¾åœ¨ç…§ç‰‡" 
                class="absolute inset-0 w-full h-full object-cover object-center opacity-0 transition-all duration-1000 transform scale-110"
            >

            <!-- ç­”å°äº†ï¼é®ç½©å±¤ -->
            <div id="success-overlay" class="absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity duration-300 z-20">
                <div class="transform scale-0 transition-transform duration-500" id="success-message">
                    <div class="bg-gradient-to-r from-green-400 to-emerald-600 text-white px-8 py-4 rounded-full shadow-lg border-4 border-white/30 text-2xl md:text-4xl font-bold tracking-wider animate-bounce-in">
                        ğŸ‰ ç­”å°äº†ï¼æ˜¯åŠ‰å¾·è¯
                    </div>
                </div>
            </div>

            <!-- æ¨™ç±¤ -->
            <div id="label-young" class="absolute top-4 left-4 bg-amber-600/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs text-white/90 font-bold tracking-wide shadow-lg transition-all duration-500">
                å¹´è¼•æ™‚
            </div>
            <div id="label-current" class="absolute bottom-4 right-4 bg-slate-700/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs text-white/90 font-bold tracking-wide shadow-lg opacity-0 translate-y-4 transition-all duration-500">
                ç¾åœ¨
            </div>
        </div>

        <!-- æ§åˆ¶å€ -->
        <div class="p-6 bg-slate-800 text-center relative z-10">
            <!-- éšæ®µ 1 æŒ‰éˆ• -->
            <div id="step1-controls" class="transition-all duration-300">
                <button onclick="revealAnswer()" class="w-full bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-400 hover:to-orange-500 text-white font-bold py-3 px-6 rounded-xl shadow-lg transform transition hover:scale-105 active:scale-95 flex items-center justify-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                    </svg>
                    æ­æ›‰ç­”æ¡ˆ
                </button>
            </div>

            <!-- éšæ®µ 2 (çµæŸ) æŒ‰éˆ• -->
            <div id="step2-controls" class="hidden opacity-0 transition-all duration-300 absolute inset-0 p-6 flex items-center justify-center">
                <button onclick="resetGame()" class="bg-slate-700 hover:bg-slate-600 text-slate-200 py-2 px-6 rounded-lg text-sm transition flex items-center gap-2 border border-slate-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg>
                    å†ç©ä¸€æ¬¡
                </button>
            </div>
        </div>
    </main>
    
    <footer class="mt-8 text-slate-500 text-xs">
        Game generated by Gemini
    </footer>

    <script>
        // ç²å– DOM å…ƒç´ 
        const imgYoung = document.getElementById('img-young');
        const imgCurrent = document.getElementById('img-current');
        const overlay = document.getElementById('success-overlay');
        const message = document.getElementById('success-message');
        
        const labelYoung = document.getElementById('label-young');
        const labelCurrent = document.getElementById('label-current');
        
        const step1Controls = document.getElementById('step1-controls');
        const step2Controls = document.getElementById('step2-controls');
        
        const title = document.getElementById('game-title');
        const subtitle = document.getElementById('game-subtitle');

        /**
         * æ­æ›‰ç­”æ¡ˆçš„å‡½æ•¸
         * 1. æ’­æ”¾ç‰¹æ•ˆ
         * 2. é¡¯ç¤ºéå ´æ–‡å­—
         * 3. åˆ‡æ›åœ–ç‰‡
         */
        function revealAnswer() {
            // 1. æ’­æ”¾å½©å¸¶ç‰¹æ•ˆ
            fireConfetti();
            
            // 2. é¡¯ç¤ºã€Œç­”å°äº†ã€é®ç½©
            overlay.classList.remove('opacity-0');
            message.classList.remove('scale-0');
            
            // éš±è—æŒ‰éˆ•ï¼Œé¿å…é‡è¤‡é»æ“Š
            step1Controls.style.opacity = '0';
            step1Controls.style.pointerEvents = 'none';

            // 3. å»¶é²å¾Œæ­æ›‰ç¾åœ¨çš„ç…§ç‰‡ (2ç§’å¾Œ)
            setTimeout(() => {
                // éš±è—ã€Œç­”å°äº†ã€
                overlay.classList.add('opacity-0');
                
                // åœ–ç‰‡è½‰å ´ï¼šèˆŠç…§ç‰‡æ”¾å¤§æ¶ˆå¤±
                imgYoung.style.opacity = '0';
                imgYoung.style.transform = 'scale(1.1)';
                
                // æ–°ç…§ç‰‡å‡ºç¾
                imgCurrent.classList.remove('opacity-0');
                imgCurrent.classList.remove('scale-110');
                
                // æ¨™ç±¤åˆ‡æ›
                labelYoung.style.opacity = '0';
                labelYoung.style.transform = 'translateY(-10px)';
                
                labelCurrent.classList.remove('opacity-0');
                labelCurrent.classList.remove('translate-y-4');

                // æ›´æ”¹æ–‡å­—
                title.innerText = "åŠ‰å¾·è¯";
                subtitle.innerText = "é€™å°±æ˜¯ç¾åœ¨çš„æ¨£å­ï¼";
                
                // é¡¯ç¤ºé‡ç½®æŒ‰éˆ•
                step2Controls.classList.remove('hidden');
                // ç¨å¾®å»¶é²è®“ DOM æ¸²æŸ“å¾Œå†é¡¯ç¤º opacityï¼Œç¢ºä¿æ·¡å…¥æ•ˆæœ
                setTimeout(() => {
                    step2Controls.classList.remove('opacity-0');
                }, 50);

                // å†æ”¾ä¸€æ¬¡å°å½©å¸¶æ…¶ç¥æ­æ›‰
                fireSmallConfetti();
                
            }, 2000); 
        }

        /**
         * é‡ç½®éŠæˆ²ç‹€æ…‹
         */
        function resetGame() {
            // é‡ç½®åœ–ç‰‡ç‹€æ…‹
            imgYoung.style.opacity = '1';
            imgYoung.style.transform = 'scale(1)';
            
            imgCurrent.classList.add('opacity-0');
            imgCurrent.classList.add('scale-110');
            
            // é‡ç½®é®ç½©
            overlay.classList.add('opacity-0');
            message.classList.add('scale-0');
            
            // é‡ç½®æ¨™ç±¤
            labelYoung.style.opacity = '1';
            labelYoung.style.transform = 'translateY(0)';
            
            labelCurrent.classList.add('opacity-0');
            labelCurrent.classList.add('translate-y-4');
            
            // é‡ç½®æ–‡å­—
            title.innerText = "çŒœçŒœæˆ‘æ˜¯èª°ï¼Ÿ";
            subtitle.innerText = "çœ‹è‘—é€™å¼µå¹´è¼•çš„ç…§ç‰‡ï¼Œä½ èƒ½èªå‡ºä»–æ˜¯èª°å—ï¼Ÿ";
            
            // é‡ç½®æŒ‰éˆ•
            step1Controls.style.opacity = '1';
            step1Controls.style.pointerEvents = 'auto';
            
            step2Controls.classList.add('opacity-0');
            setTimeout(() => {
                step2Controls.classList.add('hidden');
            }, 300);
        }

        // å½©å¸¶ç‰¹æ•ˆå‡½æ•¸ (ä½¿ç”¨ canvas-confetti åº«)
        function fireConfetti() {
            var duration = 2000;
            var end = Date.now() + duration;

            (function frame() {
                // å¾å·¦å´ç™¼å°„
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#fbbf24', '#f59e0b', '#ef4444', '#10b981', '#3b82f6']
                });
                // å¾å³å´ç™¼å°„
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#fbbf24', '#f59e0b', '#ef4444', '#10b981', '#3b82f6']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
            
            // ä¸­å¤®çˆ†ç™¼å»¶é²æ•ˆæœ
            setTimeout(() => {
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 }
                });
            }, 200);
        }

        function fireSmallConfetti() {
            confetti({
                particleCount: 40,
                spread: 60,
                origin: { y: 0.7 }
            });
        }
    </script>
</body>
</html>
